#!/bin/bash
#pushpop

pushd ()
{
  dirname=$1
  if cd ${dirname:?"missing directory name."} # if cd was successful
  then
    DIR_STACK="$dirname ${DIR_STACK:-$PWD" "}" # push the directory
    echo $DIR_STACK
  else
    echo still in $PWD # else do nothing
  fi
}

popd ()
{
  if [ -n "$DIR_STACK" ]; then
    DIR_STACK=${DIR_STACK#* }
    cd ${DIR_STACK%% *}
    echo "$PWD"
  else
    echo "stack empty, still in $PWD."
  fi
}
